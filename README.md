# Multi-Tool-AI-Agent-for-Bangladesh

A small **command-line AI assistant** that answers questions about Bangladesh using:
- **Local SQLite databases** (Institutions, Hospitals, Restaurants) generated from Hugging Face datasets
- **Optional web search** fallback (DuckDuckGo) for questions not covered by the local data
- **Groq LLM** via `langchain-groq`

---

## Features

- Natural-language questions → **SQL** (per table) → results printed as a table
- Three database tools:
  - `institutions_db`
  - `hospitals_db`
  - `restaurants_db`
- One web tool:
  - `web_search` (DuckDuckGo)

---

## Project Structure

```
.
├─ main.py
├─ db_tools.py
├─ create_databases.py
├─ databases/              # auto-created (SQLite files)
│  ├─ institutions.db
│  ├─ hospitals.db
│  └─ restaurants.db
├─ requirements.txt
└─ .env                    # you create this
```

---

## Prerequisites

- Python **3.10+** recommended
- A **Groq API key**

---

## 1) Installation

### Create & activate a virtual environment (recommended)

**Windows (PowerShell)**
```bash
python -m venv .venv
.venv\Scripts\Activate.ps1
```

**macOS / Linux**
```bash
python -m venv .venv
source .venv/bin/activate
```

### Install dependencies
```bash
pip install -r requirements.txt
```

---

## 2) Configure Environment Variables

Create a file named **`.env`** in the project root:

```env
GROQ_API_KEY=YOUR_GROQ_API_KEY_HERE
# Optional (defaults to llama-3.1-8b-instant)
GROQ_MODEL=llama-3.1-8b-instant
```

---

## 3) Create the SQLite Databases

Run:
```bash
python create_databases.py
```

This script will:
1. Download datasets from Hugging Face
2. Convert them to pandas DataFrames
3. Clean column names (lowercase + underscores)
4. Save them as SQLite databases inside the `databases/` folder

Expected output example:
```
Processing institutions...
Saved XXXX rows to databases/institutions.db
Processing hospitals...
Saved XXXX rows to databases/hospitals.db
Processing restaurants...
Saved XXXX rows to databases/restaurants.db
```

---

## 4) Run the Agent (CLI)

Start:
```bash
python main.py
```

Ask questions like:
- **Institutions:** “List universities in Dhaka”
- **Hospitals:** “Hospitals in Sylhet”
- **Restaurants:** “Top rated restaurants in Chittagong”
- **General:** “What is the capital of Bangladesh?” (may use web search)

Exit with:
- `quit` or `exit`

---

## How it Works (High Level)

### Database tools
`db_tools.py` creates a LangChain tool for each table:
- Reads the table schema
- Prompts the LLM to output **only SQL**
- Executes SQL with sqlite3 + pandas
- Returns the result as a formatted text table

### Web search tool
`main.py` also provides a `web_search` tool (DuckDuckGo).  
If `ddgs` is missing, the tool returns a helpful installation message.

---

## Troubleshooting

### Web search error: missing `ddgs`
If you see:
> Web search is unavailable: missing dependency 'ddgs'

Run:
```bash
pip install -U ddgs
```

### SQLite error: `no such table ...`
Make sure you created the databases first:
```bash
python create_databases.py
```

### Groq key errors
Confirm `.env` exists and contains:
```env
GROQ_API_KEY=...
```

---

## Notes / Limitations

- SQL is generated by the model. If it generates invalid SQL, you may see an error message.
- Dataset schemas can change if the Hugging Face datasets are updated

---
Here are 20 good example questions that match your actual DB columns.

Hospitals DB (hospitals table):

(Columns: name, name_(bangla), agency, type, division, district, city_corporation, upazila, paurasava, union, private)

List 10 hospitals in Dhaka district.

Show all private hospitals in Dhaka division.

Count how many hospitals are in each division.

Which district has the most hospitals?

List hospitals in Chattogram district with their type and agency.

Show hospitals in Sylhet division grouped by type (count each type).

Find hospitals under agency “DGHS” (or any agency name you have).

List hospitals in Dhaka city_corporation area.

Show hospitals in a specific upazila (example: “Savar”).

List hospitals where private = 0 (government/public) in Rajshahi division.

Institutions DB (institutions table):

(Columns: institute_name, eiin, institute_type, division, district, thana, union_name, address, post, management_type, mobile, student_type, education_level, affiliation, mpo_status, etc.)

List 10 colleges in Dhaka district with eiin and address.

Find an institution by EIIN (example: “Search EIIN 123456”).

Show all institutions in Chattogram division with institute_type = school.

Count institutions by education_level (Primary/Secondary/Higher Secondary etc.).

List institutions in a specific thana (example: “Dhanmondi”).

Show institutions with student_type = co-education (or boys/girls depending on your data).

List institutions with mpo_status = Yes (or whatever values exist) in Sylhet district.

Show institutions grouped by management_type (count per type).

Restaurants DB (restaurants table):

(Columns: name, rating, number_of_reviews, address, latitude, longitude, affluence)

List top 10 restaurants by rating (only those with >= 100 reviews).

Find restaurants in Chattogram (search in address) sorted by rating desc, show rating + number_of_reviews.

Web Search tool (web_search) — example questions:

What is the current visa process for Bangladesh tourist visa (requirements + fees)
What is the Bangladesh Railway online ticket booking official website and steps?
Latest news: dengue situation in Bangladesh (current updates)

